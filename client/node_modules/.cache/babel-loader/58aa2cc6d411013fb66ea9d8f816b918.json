{"ast":null,"code":"export default class Api {\n  api(path) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n    let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let requiresAuth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    let credentials = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    const url = \"http://localhost:3000/\" + path;\n    const options = {\n      method,\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    };\n\n    if (body) {\n      options.body = JSON.stringify(body);\n    }\n\n    if (requiresAuth) {}\n\n    return fetch(url, options);\n  }\n\n  async getAllCars() {\n    try {\n      let allCars = await this.api('api/v1/allCars');\n\n      if (allCars.status !== 200) {\n        throw new Error(console.log('error'));\n      } else {\n        return allCars.json();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async deleteCar(id) {\n    try {\n      let del = await this.api(`api/v1/delete/${id}`, 'DELETE');\n\n      if (del.status !== 200) {\n        throw new Error(console.log('error'));\n      } else {\n        return del.json();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async getAllFavourites() {\n    try {\n      let fav = await this.api('api/v1/allFavourites');\n\n      if (fav.status !== 200) {\n        throw new Error(console.log('error'));\n      } else {\n        return fav.json();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async addToFav(id) {\n    try {\n      let fav = await this.api(`api/v1/addToFav/${id}`, 'PUT');\n\n      if (fav.status !== 200) {\n        throw new Error(console.log('error'));\n      } else {\n        return fav.json();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async editCar(id) {\n    try {\n      let edit = await this.api(`api/v1/editCar/${id}`, 'PUT');\n\n      if (edit.status !== 200) {\n        throw new Error(console.log('error'));\n      } else {\n        return edit.json();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n}","map":{"version":3,"names":["Api","api","path","method","body","requiresAuth","credentials","url","options","headers","JSON","stringify","fetch","getAllCars","allCars","status","Error","console","log","json","e","deleteCar","id","del","getAllFavourites","fav","addToFav","editCar","edit"],"sources":["/Users/ratabb/Desktop/MyCodee/REACT/CarApp/client/src/api.js"],"sourcesContent":["export default class Api{\n\n    api(path,method='GET',body=null,requiresAuth=false,credentials=null){\n        const url=\"http://localhost:3000/\"+path;\n        const options={\n            method,\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8',\n            },\n        }\n\n        if(body){\n            options.body = JSON.stringify(body);\n        }\n        if(requiresAuth){\n\n        }\n\n        return fetch(url, options);\n    }\n\n    async getAllCars(){\n\n        try{\n            let allCars = await this.api('api/v1/allCars');\n            if(allCars.status!==200){\n                throw new Error(\n                    console.log('error')\n                )\n            }else{\n                return allCars.json();\n            }\n        }catch(e){\n            console.log(e);\n        }\n    }\n\n    async deleteCar(id){\n        try{\n            let del = await this.api(`api/v1/delete/${id}`, 'DELETE')\n            if(del.status!==200){\n                throw new Error(\n                    console.log('error')\n                )\n            }else{\n                return del.json();\n            }\n        }catch(e){\n            console.log(e);\n        }\n    }\n\n    async getAllFavourites(){\n        try{\n            let fav = await this.api('api/v1/allFavourites');\n            if(fav.status!==200){\n                throw new Error(\n                    console.log('error')\n                )\n            }else{\n                return fav.json();\n            }\n        }catch(e){\n            console.log(e);\n        }\n    }\n\n    async addToFav(id){\n        try{\n            let fav = await this.api(`api/v1/addToFav/${id}`, 'PUT')\n            if(fav.status!==200){\n                throw new Error(\n                    console.log('error')\n                )\n            }else{\n                return fav.json();\n            }\n        }catch(e){\n            console.log(e);\n        }\n    }\n    \n    async editCar(id){\n        try{\n            let edit = await this.api(`api/v1/editCar/${id}`, 'PUT');\n            if(edit.status!==200){\n                throw new Error(\n                    console.log('error')\n                )\n            }else{\n                return edit.json();\n            }\n        }catch(e){\n            console.log(e);\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}